# 场景配置文件：ur12e_real_libero_spatial
# 此配置会与全局配置合并

# 机器人硬件配置（仅在线模式使用）
datacenter:
  arms:
    right_arm:
      base_topic: "/right_arm/manip_t/controller"
      dof: 6

  cameras:
    wrist_right:
      base_topic: "/right_arm/manip_t/sensor/camera"
      streams:
        rgb: true
        depth: false
    front:
      base_topic: "/embodied/front/manip_t/sensor/camera"
      streams:
        rgb: true
        depth: false

  # 数据缓存配置
  buffers:
    action_buffer_size: 200
    state_buffer_size: 30
    camera_buffer_size: 30

  # 数据同步配置
  sync:
    block_timeout: 100.0
    check_interval: 0.01
    timestamp_tolerance: 0.0015
    sync_target: "image" # 同步目标: qpos 或 image

# 模型输入输出映射配置
mapping:
  # 机械臂配置：模型训练时使用单臂（7维：6 dof + 1 gripper）
  model_arm_order: ["right_arm"]
  model_arm_dof: 6
  use_gripper: true
  fill_missing_arm: false

  # 观测映射：模型期望键名 -> 数据源
  # 对于离线客户端：数据源是图像文件名（如 "front", "wrist_right"）
  # 对于在线客户端：数据源是 datacenter 相机名称
  model_obs_map:
    observation.images.image: "front" # 主相机图像
    observation.images.wrist_right_image: "wrist_right" # 手腕图像
    observation.state: "qpos" # 机器人状态

  # 图像预处理配置
  image:
    normalize: true # 归一化到 [0, 1]
    channel_order: "rgb" # 通道顺序: rgb|bgr
    expected_size: [320, 240] # 期望图像尺寸: [宽, 高]
    resize: true # 尺寸不匹配时是否缩放

